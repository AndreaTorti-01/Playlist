<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Home Page</title>
<link rel="stylesheet" type="text/css" media="all" th:href="@{/css/app.css}"/>
</head>
<body>
	<h1>Welcome to the Home Page</h1>
	<h2 th:text="${'Nice to see you ' + session.user.nome + ' '}"></h2>
	
	<div class="threeColumns">
		<div class="playlists">
		<div>Here are all your playlists</div>
			<a th:each="playlist: ${userPlaylists}" th:text="${playlist}" th:href="@{/GetPlaylistDetails?id={idv}&page=0(idv=${playlist})}"></a>
		</div>
		
		
		<form action="UploadSong" enctype="multipart/form-data" method="POST">
			<div class="formPrompt">Use this form to upload a new song</div>
			<div class="horDivBox">
				<div class="smolText">Upload the song audio file: </div>
				<input type="file" name="songFile" accept="audio/mpeg" required>
			</div>
			
			<select name="genre" required>
				<option value="" disabled selected>Select Genre</option>
	            <option value="rock">Rock</option>
	            <option value="blues">Blues</option>
	            <option value="jazz">Jazz</option>
	         </select>
	         
			<input type="text" name="author" placeholder="Author Name" required>
			<input type="text" name="album" placeholder="Album Title" required>
			<input type="number" name="albumYear" placeholder="Publication Year" min="1000" th:max="${currentYear}" required>
			<div class="horDivBox">
				<div class="smolText">Upload the album cover image: </div>
	    		<input type="file" name="imageFile" accept="image/*" required>
	    	</div>
			<!-- another way of doing it... -->
			<!-- <input type="number" name="albumYear" placeholder="Publication Year" min="1000" th:max="${#dates.format(#dates.createNow(), 'yyyy')}" required> -->
			<input type="submit" value="Upload">
		</form>
		
		<form action="CreatePlaylist" method="POST" id="createPlaylist">
			<div class="formPrompt">Use this form to create a new playlist</div>
			<input type="text" name="playlistName" placeholder="Playlist Name" required>
			<div th:each="song, songIndex: ${userSongs}" class="songsInputListItem">
				<input type="checkbox" th:id="'checkbox' + ${songIndex.index}" name="checkbox" th:value="${song}">
				<label th:for="'checkbox' + ${songIndex.index}" th:text="${song}"></label>
			</div>
			
			<!--  
			<label for="dropdown">Select your choices:</label>
	        <select id="dropdown" name="choices[]" multiple required>
				<option th:each="song, songIndex: ${userSongs}" th:value="${song}" th:text="${song}"></option>
			</select>
			-->
			
			
			<input type="submit" value="Create!">
			
		</form>
		
		
		
	</div>
	
</body>
</html>